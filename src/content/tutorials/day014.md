---
day: Day 14
title: ã‚¹ãƒ‘ã‚¤ãƒ©ãƒ«çŠ¶ã«å›è»¢ï¼‹æ‹¡å¤§ã™ã‚‹Arc - Loftã‚·ã‚§ãƒ«ã‚’ç”Ÿæˆã™ã‚‹
difficulty: 2.5
tags: [arc, spiral, loft, transform, scale, rotation]
---
## âœ… Inputs

- arc_angle_deg: float â€“ å…ƒã®Arcã®é–‹ãè§’åº¦ï¼ˆåº¦ï¼‰
- num_copies: int â€“ Arcã‚’è¤‡è£½ã™ã‚‹æ•°
- total_rotation_deg: float â€“ å…¨ä½“ã§å›è»¢ã™ã‚‹è§’åº¦ï¼ˆåº¦ï¼‰
- final_scale: float â€“ æœ€å¾Œã®Arcã®ã‚¹ã‚±ãƒ¼ãƒ«å€ç‡ï¼ˆæœ€åˆã¯1.0ï¼‰
- radius: float â€“ å…ƒã®Arcã®åŠå¾„

## âœ… Outputs

- results: list of Brep â€“ è¤‡æ•°ã®Arcã‚’å›è»¢ï¼†ã‚¹ã‚±ãƒ¼ãƒ«ã§é…ç½®ã—ã€Loftã§ç”Ÿæˆã•ã‚ŒãŸã‚·ã‚§ãƒ«å½¢çŠ¶



## âœ… Code

```python
# === ğŸ”§ å…¥åŠ›ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä¾‹ ===
# num_copies = 50             
# total_rotation_deg = 500    
# final_scale = 4.5          
# radius = 100.0  
# start_angle_degree = -30
# end_angle_degree = 90

import Rhino.Geometry as rg
import math

plane_xz = rg.Plane.WorldZX
circle = rg.Circle(plane_xz, radius)

start_angle = math.radians(start_angle_degree)
end_angle = math.radians(end_angle_degree)
interval = rg.Interval(start_angle, end_angle)

arc = rg.Arc(circle, interval).ToNurbsCurve()

# === ğŸ” Step 2 & 3: å›è»¢ + ã‚¹ã‚±ãƒ¼ãƒ«è¤‡è£½ ===
arcs = []
origin = rg.Point3d(0, 0, 0)
angle_step = math.radians(total_rotation_deg / num_copies)

for i in range(num_copies):
    # å›è»¢è§’
    angle = i * angle_step

    # ã‚¹ã‚±ãƒ¼ãƒ«ä¿‚æ•°ï¼ˆç·šå½¢è£œé–“ï¼‰
    t = float(i) / (num_copies - 1)
    scale_factor = 1.0 + (final_scale - 1.0) * t

    # ãƒˆãƒ©ãƒ³ã‚¹ãƒ•ã‚©ãƒ¼ãƒ 
    rot = rg.Transform.Rotation(angle, origin)
    scale = rg.Transform.Scale(origin, scale_factor)

    # Arcã®è¤‡è£½ãƒ»å¤‰å½¢
    arc_copy = arc.DuplicateCurve()
    arc_copy.Transform(scale)
    arc_copy.Transform(rot)

    arcs.append(arc_copy)

loft = rg.Brep.CreateFromLoft(arcs, rg.Point3d.Unset, rg.Point3d.Unset, rg.LoftType.Normal, False)

results = loft if loft else []
```